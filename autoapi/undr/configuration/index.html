<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="undr.constants" href="../constants/index.html" /><link rel="prev" title="undr.check" href="../check/index.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>undr.configuration - UNDR documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=4a2923de" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">UNDR  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">UNDR  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of undr</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bibtex/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.bibtex</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../check/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.check</span></code></a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.configuration</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../constants/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.constants</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../decode/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.decode</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.display</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../exception/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.exception</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../formats/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.formats</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../install_mode/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.install_mode</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../json_index/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.json_index</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../json_index_tasks/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.json_index_tasks</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../path/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.path</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../path_directory/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.path_directory</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../persist/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.persist</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../raw/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.raw</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../remote/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.remote</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../simple/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.simple</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../task/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.task</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.utilities</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../version/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.version</span></code></a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuromorphicsystems/undr">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/undr/">PyPI</a></li>
<li class="toctree-l1"><a class="reference external" href="https://crates.io/crates/undr">crates.io</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-undr.configuration">
<span id="undr-configuration"></span><h1><a class="reference internal" href="#module-undr.configuration" title="undr.configuration"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.configuration</span></code></a><a class="headerlink" href="#module-undr.configuration" title="Link to this heading">#</a></h1>
<p>User-facing API to manipulate configuration files and trigger actions (download, decompress…).</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto autoapi-summary docutils container">
<table class="autoapi-summary docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.Configuration" title="undr.configuration.Configuration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Configuration</span></code></a></p></td>
<td><p>Represents a dataset configuration (TOML).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#undr.configuration.DatasetSettings" title="undr.configuration.DatasetSettings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatasetSettings</span></code></a></p></td>
<td><p>A dataset entry in a TOML settings file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.DoiSelector" title="undr.configuration.DoiSelector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DoiSelector</span></code></a></p></td>
<td><p>Selector for a DOI download.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#undr.configuration.IndexStatus" title="undr.configuration.IndexStatus"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IndexStatus</span></code></a></p></td>
<td><p>Keeps track of the indexing progress for a dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.IndexesStatuses" title="undr.configuration.IndexesStatuses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IndexesStatuses</span></code></a></p></td>
<td><p>Maps dataset names to index statuses.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#undr.configuration.InstallSelector" title="undr.configuration.InstallSelector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InstallSelector</span></code></a></p></td>
<td><p>Selector for a standard installation, maps install modes to actions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.MapMessage" title="undr.configuration.MapMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapMessage</span></code></a></p></td>
<td><p>A message generated by <a class="reference internal" href="#undr.configuration.MapSelector" title="undr.configuration.MapSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">MapSelector</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#undr.configuration.MapProcessFile" title="undr.configuration.MapProcessFile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapProcessFile</span></code></a></p></td>
<td><p>Uses a switch to process files and wraps messages into <a class="reference internal" href="#undr.configuration.MapMessage" title="undr.configuration.MapMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">MapMessage</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.MapSelector" title="undr.configuration.MapSelector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapSelector</span></code></a></p></td>
<td><p>Applies a user-provided function to each file.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto autoapi-summary docutils container">
<table class="autoapi-summary docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.configuration_from_path" title="undr.configuration.configuration_from_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">configuration_from_path</span></code></a></p></td>
<td><p>Reads the configuration (TOML) with the given path.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto autoapi-summary docutils container">
<table class="autoapi-summary docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#undr.configuration.schema" title="undr.configuration.schema"><code class="xref py py-obj docutils literal notranslate"><span class="pre">schema</span></code></a></p></td>
<td><p>JSON schema for TOML settings files.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.Configuration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">Configuration</span></span><a class="headerlink" href="#undr.configuration.Configuration" title="Link to this definition">#</a></dt>
<dd><p>Represents a dataset configuration (TOML).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.Configuration.directory">
<span class="sig-name descname"><span class="pre">directory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">pathlib.Path</span></a></em><a class="headerlink" href="#undr.configuration.Configuration.directory" title="Link to this definition">#</a></dt>
<dd><p>Local path of the root datasets directory (usually called <em>datasets</em>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.Configuration.name_to_dataset_settings">
<span class="sig-name descname"><span class="pre">name_to_dataset_settings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#undr.configuration.DatasetSettings" title="undr.configuration.DatasetSettings"><span class="pre">DatasetSettings</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#undr.configuration.Configuration.name_to_dataset_settings" title="Link to this definition">#</a></dt>
<dd><p>Maps dataset names to their parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.bibtex">
<span class="sig-name descname"><span class="pre">bibtex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bibtex_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">pathlib.Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#undr.configuration.Configuration.bibtex" title="Link to this definition">#</a></dt>
<dd><p>Downloads index files and BibTeX references for enabled datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether to show progress in the terminal.</p></li>
<li><p><strong>workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of parallel workers (threads).</p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether to re-download resources even if they are already present locally.</p></li>
<li><p><strong>bibtex_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Timeout for requests to <a class="reference external" href="https://dx.doi.org/">https://dx.doi.org/</a>.</p></li>
<li><p><strong>log_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><em>pathlib.Path</em></a><em>]</em>) – Directory to store log files. Logs are not generated if this is None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../task/index.html#undr.task.WorkerException" title="undr.task.WorkerException"><strong>task.WorkerException</strong></a> – if a worker raises an error.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>BibTeX references as a string.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.dataset">
<span class="sig-name descname"><span class="pre">dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../path_directory/index.html#undr.path_directory.Directory" title="undr.path_directory.Directory"><span class="pre">undr.path_directory.Directory</span></a></span></span><a class="headerlink" href="#undr.configuration.Configuration.dataset" title="Link to this definition">#</a></dt>
<dd><p>Returns the dataset with the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The dataset name.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – if the dataset exists but is disabled.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dataset’s root directory.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../path_directory/index.html#undr.path_directory.Directory" title="undr.path_directory.Directory">path_directory.Directory</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.display">
<span class="sig-name descname"><span class="pre">display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../display/index.html#undr.display.Tag" title="undr.display.Tag"><span class="pre">undr.display.Tag</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">display.Tag(label='download',</span> <span class="pre">icon='↓')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../display/index.html#undr.display.Tag" title="undr.display.Tag"><span class="pre">undr.display.Tag</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">display.Tag(label='process',</span> <span class="pre">icon='⚛')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../display/index.html#undr.display.Display" title="undr.display.Display"><span class="pre">undr.display.Display</span></a></span></span><a class="headerlink" href="#undr.configuration.Configuration.display" title="Link to this definition">#</a></dt>
<dd><p>Returns a display that shows download and process progress for enabled datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>download_tag</strong> (<a class="reference internal" href="../display/index.html#undr.display.Tag" title="undr.display.Tag"><em>display.Tag</em></a><em>, </em><em>optional</em>) – Label and icon for download. Defaults to display.Tag(label=”download”, icon=”↓”).</p></li>
<li><p><strong>process_tag</strong> (<a class="reference internal" href="../display/index.html#undr.display.Tag" title="undr.display.Tag"><em>display.Tag</em></a><em>, </em><em>optional</em>) – Label and icon for process. Defaults to display.Tag(label=”process”, icon=”⚛”).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Controller for the display thread.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../display/index.html#undr.display.Display" title="undr.display.Display">display.Display</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.enabled_datasets_settings">
<span class="sig-name descname"><span class="pre">enabled_datasets_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#undr.configuration.DatasetSettings" title="undr.configuration.DatasetSettings"><span class="pre">DatasetSettings</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#undr.configuration.Configuration.enabled_datasets_settings" title="Link to this definition">#</a></dt>
<dd><p>The settings of enabled datasets.</p>
<p>The list always contains at least one item (the function otherwise raises an error).</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><strong>RuntimeError</strong></a> – if all the datasets are disabled or there are no datasets.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The settings of the datasets that are enabled, in the same order as the configuration file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a>[<a class="reference internal" href="#undr.configuration.DatasetSettings" title="undr.configuration.DatasetSettings">DatasetSettings</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.indexes_statuses">
<span class="sig-name descname"><span class="pre">indexes_statuses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector" title="undr.json_index_tasks.Selector"><span class="pre">undr.json_index_tasks.Selector</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#undr.configuration.IndexesStatuses" title="undr.configuration.IndexesStatuses"><span class="pre">IndexesStatuses</span></a></span></span><a class="headerlink" href="#undr.configuration.Configuration.indexes_statuses" title="Link to this definition">#</a></dt>
<dd><p>Builds an indexing report for enabled datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>selector</strong> (<a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector" title="undr.json_index_tasks.Selector"><em>json_index_tasks.Selector</em></a>) – The selector used to index the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Index status for enabled datasets, in the same order as the configuration file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#undr.configuration.IndexesStatuses" title="undr.configuration.IndexesStatuses">IndexesStatuses</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.install">
<span class="sig-name descname"><span class="pre">install</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">pathlib.Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.Configuration.install" title="Link to this definition">#</a></dt>
<dd><p>Downloads index files and data files and decompresses data files.</p>
<p>The action (index only, download, download and decompress) may be different for each dataset and is controlled by <a class="reference internal" href="../install_mode/index.html#undr.install_mode.Mode" title="undr.install_mode.Mode"><code class="xref py py-class docutils literal notranslate"><span class="pre">undr.install_mode.Mode</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether to show progress in the terminal.</p></li>
<li><p><strong>workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of parallel workers (threads).</p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether to re-download resources even if they are already present locally.</p></li>
<li><p><strong>log_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><em>pathlib.Path</em></a><em>]</em>) – Directory to store log files. Logs are not generated if this is None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../task/index.html#undr.task.WorkerException" title="undr.task.WorkerException"><strong>task.WorkerException</strong></a> – if a worker raises an error.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.iter">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../path/index.html#undr.path.Path" title="undr.path.Path"><span class="pre">undr.path.Path</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#undr.configuration.Configuration.iter" title="Link to this definition">#</a></dt>
<dd><p>Iterates the files in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to recursively search child directories. Defaults to False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator over the child paths. If <cite>recursive</cite> is false, the iterator yields the direct children (files and directories) of the root dataset directory. If <cite>recursive</cite> is true, the iterator yields all the children (files and directories) of the dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><em>Iterable</em></a>[<a class="reference internal" href="../path/index.html#undr.path.Path" title="undr.path.Path">path.Path</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../formats/index.html#undr.formats.Switch" title="undr.formats.Switch"><span class="pre">undr.formats.Switch</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../persist/index.html#undr.persist.Store" title="undr.persist.Store"><span class="pre">undr.persist.Store</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_display</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">multiprocessing.cpu_count()</span> <span class="pre">*</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">pathlib.Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#undr.configuration.Configuration.map" title="Link to this definition">#</a></dt>
<dd><p>Applies a function to eacch file in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>switch</strong> (<a class="reference internal" href="../formats/index.html#undr.formats.Switch" title="undr.formats.Switch"><em>formats.Switch</em></a>) – Specifies the action to perform on each file type.</p></li>
<li><p><strong>store</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><em>Optional</em></a><em>[</em><a class="reference internal" href="../persist/index.html#undr.persist.Store" title="undr.persist.Store"><em>persist.Store</em></a><em>]</em><em>, </em><em>optional</em>) – Saves progress, makes it possible to resume interrupted processing. Defaults to None.</p></li>
<li><p><strong>show_display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to show progress in the terminal. Defaults to True.</p></li>
<li><p><strong>workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Number of parallel workers (threads). Defaults to twice <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">multiprocessing.cpu_count()</span></code></a>.</p></li>
<li><p><strong>log_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><em>pathlib.Path</em></a><em>]</em><em>, </em><em>optional</em>) – Directory to store log files. Logs are not generated if this is None. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../task/index.html#undr.task.WorkerException" title="undr.task.WorkerException"><strong>task.WorkerException</strong></a> – if a worker raises an error.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator over the non-error messages generated by the workers.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><em>Iterable</em></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.Configuration.mktree">
<span class="sig-name descname"><span class="pre">mktree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.12)"><span class="pre">os.PathLike</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exist_ok</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.Configuration.mktree" title="Link to this definition">#</a></dt>
<dd><p>Creates a copy of the datasets’ file hierarchy without the index or data files.</p>
<dl class="simple">
<dt>This function can be combined with <a class="reference internal" href="#undr.configuration.Configuration.map" title="undr.configuration.Configuration.map"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a> to implement a map-reduce algorithm over entire datasets.</dt><dd><ol class="loweralpha simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">mktree</span></code> to create a empty copy of the file hierarchy.</p></li>
<li><p>Use <a class="reference internal" href="#undr.configuration.Configuration.map" title="undr.configuration.Configuration.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Configuration.map()</span></code></a> to create a result file in the new hierarchy for each data file in the originall hierarchy (for instance, a file that contains a measure algorithm’s performance as a single number).</p></li>
<li><p>Collect the results (“reduce”) by reading the result files in the new hierarchy.</p></li>
</ol>
</dd>
</dl>
<p>This approach has several benefits. The most expensive step b. runs in parallell and can be interrupted and resumed. Result files are stored in a different directory and can easily be deleted without altering the original data. The new file hierarchy prevents name clashes as long as result files are named after data files, and workers do not need to worry about directory existence since <code class="docutils literal notranslate"><span class="pre">mktree</span></code> runs first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><em>Union</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.12)"><em>os.PathLike</em></a><em>]</em>) – Directory where the new file hierarchy is created.</p></li>
<li><p><strong>parents</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to create the parents of the new directory, if they do not exist. Defaults to False.</p></li>
<li><p><strong>exist_ok</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to silence exeptions if the root directory already exists. Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.DatasetSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">DatasetSettings</span></span><a class="headerlink" href="#undr.configuration.DatasetSettings" title="Link to this definition">#</a></dt>
<dd><p>A dataset entry in a TOML settings file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.DatasetSettings.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../install_mode/index.html#undr.install_mode.Mode" title="undr.install_mode.Mode"><span class="pre">undr.install_mode.Mode</span></a></em><a class="headerlink" href="#undr.configuration.DatasetSettings.mode" title="Link to this definition">#</a></dt>
<dd><p>The installation mode.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.DatasetSettings.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#undr.configuration.DatasetSettings.name" title="Link to this definition">#</a></dt>
<dd><p>The dataset’s name, used to name the local directory.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.DatasetSettings.timeout">
<span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><a class="headerlink" href="#undr.configuration.DatasetSettings.timeout" title="Link to this definition">#</a></dt>
<dd><p>Request timeout in seconds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.DatasetSettings.url">
<span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#undr.configuration.DatasetSettings.url" title="Link to this definition">#</a></dt>
<dd><p>The dataset’s base URL.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.DoiSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">DoiSelector</span></span><a class="headerlink" href="#undr.configuration.DoiSelector" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector" title="undr.json_index_tasks.Selector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">undr.json_index_tasks.Selector</span></code></a></p>
<p>Selector for a DOI download.</p>
<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.DoiSelector.action">
<span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path/index.html#undr.path.File" title="undr.path.File"><span class="pre">undr.path.File</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector.Action" title="undr.json_index_tasks.Selector.Action"><span class="pre">undr.json_index_tasks.Selector.Action</span></a></span></span><a class="headerlink" href="#undr.configuration.DoiSelector.action" title="Link to this definition">#</a></dt>
<dd><p>Returns the action to apply to the given file.</p>
<p>Called by <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">InstallFilesRecursive</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessFilesRecursive</span></code>.
The default implementation returns <cite>Selector.Action.PROCESS</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.DoiSelector.scan_filesystem">
<span class="sig-name descname"><span class="pre">scan_filesystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path_directory/index.html#undr.path_directory.Directory" title="undr.path_directory.Directory"><span class="pre">undr.path_directory.Directory</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.DoiSelector.scan_filesystem" title="Link to this definition">#</a></dt>
<dd><p>Whether to scan the filesystem.</p>
<p>Called by <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> to decide whether it needs to scan the file system.
This function may return False if <a class="reference internal" href="#undr.configuration.DoiSelector.action" title="undr.configuration.DoiSelector.action"><code class="xref py py-func docutils literal notranslate"><span class="pre">action()</span></code></a> returns one of the following for every file in the directory:</p>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.IGNORE</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.DOI</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.SKIP</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.DOWNLOAD_SKIP</span></code></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">IndexStatus</span></span><a class="headerlink" href="#undr.configuration.IndexStatus" title="Link to this definition">#</a></dt>
<dd><p>Keeps track of the indexing progress for a dataset.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.current_index_files">
<span class="sig-name descname"><span class="pre">current_index_files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#undr.configuration.IndexStatus.current_index_files" title="Link to this definition">#</a></dt>
<dd><p>Number of index files parsed.</p>
<p>The dataset has been indexed if <a class="reference internal" href="#undr.configuration.IndexStatus.current_index_files" title="undr.configuration.IndexStatus.current_index_files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">current_index_files</span></code></a> and <a class="reference internal" href="#undr.configuration.IndexStatus.final_index_files" title="undr.configuration.IndexStatus.final_index_files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">final_index_files</span></code></a> are equal.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.dataset_settings">
<span class="sig-name descname"><span class="pre">dataset_settings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#undr.configuration.DatasetSettings" title="undr.configuration.DatasetSettings"><span class="pre">DatasetSettings</span></a></em><a class="headerlink" href="#undr.configuration.IndexStatus.dataset_settings" title="Link to this definition">#</a></dt>
<dd><p>User-specified dataset settings.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.downloaded_and_processed">
<span class="sig-name descname"><span class="pre">downloaded_and_processed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><a class="headerlink" href="#undr.configuration.IndexStatus.downloaded_and_processed" title="Link to this definition">#</a></dt>
<dd><p>Whether the dataset has been fully downloaded and processed.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.final_index_files">
<span class="sig-name descname"><span class="pre">final_index_files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#undr.configuration.IndexStatus.final_index_files" title="Link to this definition">#</a></dt>
<dd><p>Total number of index files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.selector">
<span class="sig-name descname"><span class="pre">selector</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector" title="undr.json_index_tasks.Selector"><span class="pre">undr.json_index_tasks.Selector</span></a></em><a class="headerlink" href="#undr.configuration.IndexStatus.selector" title="Link to this definition">#</a></dt>
<dd><p>Selector to choose actions while indexing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.server">
<span class="sig-name descname"><span class="pre">server</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../remote/index.html#undr.remote.Server" title="undr.remote.Server"><span class="pre">undr.remote.Server</span></a></em><a class="headerlink" href="#undr.configuration.IndexStatus.server" title="Link to this definition">#</a></dt>
<dd><p>The remote server for this dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.IndexStatus.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#undr.configuration.IndexStatus" title="undr.configuration.IndexStatus"><span class="pre">IndexStatus</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#undr.configuration.IndexStatus.push" title="Link to this definition">#</a></dt>
<dd><p>Updates the status based on the message.</p>
<p>Ignores messages that are not <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.IndexLoaded" title="undr.json_index_tasks.IndexLoaded"><code class="xref py py-class docutils literal notranslate"><span class="pre">undr.json_index_tasks.IndexLoaded</span></code></a> or <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.DirectoryScanned" title="undr.json_index_tasks.DirectoryScanned"><code class="xref py py-class docutils literal notranslate"><span class="pre">undr.json_index_tasks.DirectoryScanned</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the dataset has been fully indexed and self, if self was updated.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><em>Optional</em></a>[“IndexStatus”]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.IndexesStatuses">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">IndexesStatuses</span></span><a class="headerlink" href="#undr.configuration.IndexesStatuses" title="Link to this definition">#</a></dt>
<dd><p>Maps dataset names to index statuses.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.IndexesStatuses.name_to_status">
<span class="sig-name descname"><span class="pre">name_to_status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#undr.configuration.IndexStatus" title="undr.configuration.IndexStatus"><span class="pre">IndexStatus</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#undr.configuration.IndexesStatuses.name_to_status" title="Link to this definition">#</a></dt>
<dd><p>Inner dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.IndexesStatuses.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#undr.configuration.IndexStatus" title="undr.configuration.IndexStatus"><span class="pre">IndexStatus</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#undr.configuration.IndexesStatuses.push" title="Link to this definition">#</a></dt>
<dd><p>Processes relevant messages.</p>
<p>This function updates the indexing status and returns it
if message is a <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.IndexLoaded" title="undr.json_index_tasks.IndexLoaded"><code class="xref py py-class docutils literal notranslate"><span class="pre">undr.json_index_tasks.IndexLoaded</span></code></a> or <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.DirectoryScanned" title="undr.json_index_tasks.DirectoryScanned"><code class="xref py py-class docutils literal notranslate"><span class="pre">undr.json_index_tasks.DirectoryScanned</span></code></a> object.
If the message was the last indexing message for this dataset, the first argument is True.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.InstallSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">InstallSelector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../install_mode/index.html#undr.install_mode.Mode" title="undr.install_mode.Mode"><span class="pre">undr.install_mode.Mode</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.InstallSelector" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector" title="undr.json_index_tasks.Selector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">undr.json_index_tasks.Selector</span></code></a></p>
<p>Selector for a standard installation, maps install modes to actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – if mode is not <a class="reference internal" href="../install_mode/index.html#undr.install_mode.Mode.REMOTE" title="undr.install_mode.Mode.REMOTE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">undr.install_mode.Mode.REMOTE</span></code></a>, <a class="reference internal" href="../install_mode/index.html#undr.install_mode.Mode.LOCAL" title="undr.install_mode.Mode.LOCAL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">undr.install_mode.Mode.LOCAL</span></code></a>, or <a class="reference internal" href="../install_mode/index.html#undr.install_mode.Mode.RAW" title="undr.install_mode.Mode.RAW"><code class="xref py py-attr docutils literal notranslate"><span class="pre">undr.install_mode.Mode.RAW</span></code></a>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.InstallSelector.action">
<span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path/index.html#undr.path.File" title="undr.path.File"><span class="pre">undr.path.File</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector.Action" title="undr.json_index_tasks.Selector.Action"><span class="pre">undr.json_index_tasks.Selector.Action</span></a></span></span><a class="headerlink" href="#undr.configuration.InstallSelector.action" title="Link to this definition">#</a></dt>
<dd><p>Returns the action to apply to the given file.</p>
<p>Called by <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">InstallFilesRecursive</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessFilesRecursive</span></code>.
The default implementation returns <cite>Selector.Action.PROCESS</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.InstallSelector.scan_filesystem">
<span class="sig-name descname"><span class="pre">scan_filesystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path_directory/index.html#undr.path_directory.Directory" title="undr.path_directory.Directory"><span class="pre">undr.path_directory.Directory</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.InstallSelector.scan_filesystem" title="Link to this definition">#</a></dt>
<dd><p>Whether to scan the filesystem.</p>
<p>Called by <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> to decide whether it needs to scan the file system.
This function may return False if <a class="reference internal" href="#undr.configuration.InstallSelector.action" title="undr.configuration.InstallSelector.action"><code class="xref py py-func docutils literal notranslate"><span class="pre">action()</span></code></a> returns one of the following for every file in the directory:</p>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.IGNORE</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.DOI</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.SKIP</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.DOWNLOAD_SKIP</span></code></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.MapMessage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">MapMessage</span></span><a class="headerlink" href="#undr.configuration.MapMessage" title="Link to this definition">#</a></dt>
<dd><p>A message generated by <a class="reference internal" href="#undr.configuration.MapSelector" title="undr.configuration.MapSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">MapSelector</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="undr.configuration.MapMessage.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#undr.configuration.MapMessage.payload" title="Link to this definition">#</a></dt>
<dd><p>Payload attached to this message.</p>
<p>The payload may be any object type. The user is reponsible for checking message types.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.MapProcessFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">MapProcessFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path/index.html#undr.path.File" title="undr.path.File"><span class="pre">undr.path.File</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">switch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../formats/index.html#undr.formats.Switch" title="undr.formats.Switch"><span class="pre">undr.formats.Switch</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.MapProcessFile" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.ProcessFile" title="undr.json_index_tasks.ProcessFile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">undr.json_index_tasks.ProcessFile</span></code></a></p>
<p>Uses a switch to process files and wraps messages into <a class="reference internal" href="#undr.configuration.MapMessage" title="undr.configuration.MapMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">MapMessage</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<a class="reference internal" href="../path/index.html#undr.path.File" title="undr.path.File"><em>path.File</em></a>) – The file to process.</p></li>
<li><p><strong>switch</strong> (<a class="reference internal" href="../formats/index.html#undr.formats.Switch" title="undr.formats.Switch"><em>formats.Switch</em></a>) – Switch that maps file types to actions.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.MapProcessFile.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.31.0)"><span class="pre">requests.Session</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../task/index.html#undr.task.Manager" title="undr.task.Manager"><span class="pre">undr.task.Manager</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.MapProcessFile.run" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="undr.configuration.MapSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">MapSelector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.12)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../persist/index.html#undr.persist.ReadOnlyStore" title="undr.persist.ReadOnlyStore"><span class="pre">undr.persist.ReadOnlyStore</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.MapSelector" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../json_index_tasks/index.html#undr.json_index_tasks.Selector" title="undr.json_index_tasks.Selector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">undr.json_index_tasks.Selector</span></code></a></p>
<p>Applies a user-provided function to each file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.12)"><em>set</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a><em>]</em>) – The file types (a class in <a class="reference internal" href="../formats/index.html#module-undr.formats" title="undr.formats"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.formats</span></code></a>) to process.</p></li>
<li><p><strong>store</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><em>Optional</em></a><em>[</em><a class="reference internal" href="../persist/index.html#undr.persist.ReadOnlyStore" title="undr.persist.ReadOnlyStore"><em>persist.ReadOnlyStore</em></a><em>]</em>) – A store to check for readily processed files.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.MapSelector.action">
<span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path/index.html#undr.path.File" title="undr.path.File"><span class="pre">undr.path.File</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.MapSelector.action" title="Link to this definition">#</a></dt>
<dd><p>Returns the action to apply to the given file.</p>
<p>Called by <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">InstallFilesRecursive</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessFilesRecursive</span></code>.
The default implementation returns <cite>Selector.Action.PROCESS</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="undr.configuration.MapSelector.scan_filesystem">
<span class="sig-name descname"><span class="pre">scan_filesystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../path_directory/index.html#undr.path_directory.Directory" title="undr.path_directory.Directory"><span class="pre">undr.path_directory.Directory</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#undr.configuration.MapSelector.scan_filesystem" title="Link to this definition">#</a></dt>
<dd><p>Whether to scan the filesystem.</p>
<p>Called by <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> to decide whether it needs to scan the file system.
This function may return False if <a class="reference internal" href="#undr.configuration.MapSelector.action" title="undr.configuration.MapSelector.action"><code class="xref py py-func docutils literal notranslate"><span class="pre">action()</span></code></a> returns one of the following for every file in the directory:</p>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.IGNORE</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.DOI</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.SKIP</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selector.Action.DOWNLOAD_SKIP</span></code></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="undr.configuration.configuration_from_path">
<span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">configuration_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.12)"><span class="pre">os.PathLike</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#undr.configuration.Configuration" title="undr.configuration.Configuration"><span class="pre">Configuration</span></a></span></span><a class="headerlink" href="#undr.configuration.configuration_from_path" title="Link to this definition">#</a></dt>
<dd><p>Reads the configuration (TOML) with the given path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><em>Union</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.12)"><em>os.PathLike</em></a><em>]</em>) – Configuration file path.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><strong>RuntimeError</strong></a> – if two datasets have the same name in the configuration.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the parsed TOML configuration.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#undr.configuration.Configuration" title="undr.configuration.Configuration">Configuration</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="undr.configuration.schema">
<span class="sig-prename descclassname"><span class="pre">undr.configuration.</span></span><span class="sig-name descname"><span class="pre">schema</span></span><a class="headerlink" href="#undr.configuration.schema" title="Link to this definition">#</a></dt>
<dd><p>JSON schema for TOML settings files.</p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../constants/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.constants</span></code></div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../check/index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.check</span></code></div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Alexandre Marcireau, ICNS
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">undr.configuration</span></code></a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-contents">Module Contents</a><ul>
<li><a class="reference internal" href="#undr.configuration.Configuration"><code class="docutils literal notranslate"><span class="pre">Configuration</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.Configuration.directory"><code class="docutils literal notranslate"><span class="pre">Configuration.directory</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.name_to_dataset_settings"><code class="docutils literal notranslate"><span class="pre">Configuration.name_to_dataset_settings</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.bibtex"><code class="docutils literal notranslate"><span class="pre">Configuration.bibtex()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.dataset"><code class="docutils literal notranslate"><span class="pre">Configuration.dataset()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.display"><code class="docutils literal notranslate"><span class="pre">Configuration.display()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.enabled_datasets_settings"><code class="docutils literal notranslate"><span class="pre">Configuration.enabled_datasets_settings()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.indexes_statuses"><code class="docutils literal notranslate"><span class="pre">Configuration.indexes_statuses()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.install"><code class="docutils literal notranslate"><span class="pre">Configuration.install()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.iter"><code class="docutils literal notranslate"><span class="pre">Configuration.iter()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.map"><code class="docutils literal notranslate"><span class="pre">Configuration.map()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.Configuration.mktree"><code class="docutils literal notranslate"><span class="pre">Configuration.mktree()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.DatasetSettings"><code class="docutils literal notranslate"><span class="pre">DatasetSettings</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.DatasetSettings.mode"><code class="docutils literal notranslate"><span class="pre">DatasetSettings.mode</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.DatasetSettings.name"><code class="docutils literal notranslate"><span class="pre">DatasetSettings.name</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.DatasetSettings.timeout"><code class="docutils literal notranslate"><span class="pre">DatasetSettings.timeout</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.DatasetSettings.url"><code class="docutils literal notranslate"><span class="pre">DatasetSettings.url</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.DoiSelector"><code class="docutils literal notranslate"><span class="pre">DoiSelector</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.DoiSelector.action"><code class="docutils literal notranslate"><span class="pre">DoiSelector.action()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.DoiSelector.scan_filesystem"><code class="docutils literal notranslate"><span class="pre">DoiSelector.scan_filesystem()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus"><code class="docutils literal notranslate"><span class="pre">IndexStatus</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.current_index_files"><code class="docutils literal notranslate"><span class="pre">IndexStatus.current_index_files</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.dataset_settings"><code class="docutils literal notranslate"><span class="pre">IndexStatus.dataset_settings</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.downloaded_and_processed"><code class="docutils literal notranslate"><span class="pre">IndexStatus.downloaded_and_processed</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.final_index_files"><code class="docutils literal notranslate"><span class="pre">IndexStatus.final_index_files</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.selector"><code class="docutils literal notranslate"><span class="pre">IndexStatus.selector</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.server"><code class="docutils literal notranslate"><span class="pre">IndexStatus.server</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexStatus.push"><code class="docutils literal notranslate"><span class="pre">IndexStatus.push()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.IndexesStatuses"><code class="docutils literal notranslate"><span class="pre">IndexesStatuses</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.IndexesStatuses.name_to_status"><code class="docutils literal notranslate"><span class="pre">IndexesStatuses.name_to_status</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.IndexesStatuses.push"><code class="docutils literal notranslate"><span class="pre">IndexesStatuses.push()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.InstallSelector"><code class="docutils literal notranslate"><span class="pre">InstallSelector</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.InstallSelector.action"><code class="docutils literal notranslate"><span class="pre">InstallSelector.action()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.InstallSelector.scan_filesystem"><code class="docutils literal notranslate"><span class="pre">InstallSelector.scan_filesystem()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.MapMessage"><code class="docutils literal notranslate"><span class="pre">MapMessage</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.MapMessage.payload"><code class="docutils literal notranslate"><span class="pre">MapMessage.payload</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.MapProcessFile"><code class="docutils literal notranslate"><span class="pre">MapProcessFile</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.MapProcessFile.run"><code class="docutils literal notranslate"><span class="pre">MapProcessFile.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.MapSelector"><code class="docutils literal notranslate"><span class="pre">MapSelector</span></code></a><ul>
<li><a class="reference internal" href="#undr.configuration.MapSelector.action"><code class="docutils literal notranslate"><span class="pre">MapSelector.action()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.MapSelector.scan_filesystem"><code class="docutils literal notranslate"><span class="pre">MapSelector.scan_filesystem()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#undr.configuration.configuration_from_path"><code class="docutils literal notranslate"><span class="pre">configuration_from_path()</span></code></a></li>
<li><a class="reference internal" href="#undr.configuration.schema"><code class="docutils literal notranslate"><span class="pre">schema</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>